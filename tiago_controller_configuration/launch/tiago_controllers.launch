<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <arg name="arm"  default="True"/>
    <arg name="end_effector"  default="pal-hey5"/>
    <arg name="ft_sensor"  default="schunk-ft"/>
    <arg name="laser_model"  default="sick-571"/>
    <arg name="camera_model"  default="orbbec-astra"/>

    <include file="$(find tiago_controller_configuration)/launch/joint_state_controller.launch"/>
    <include file="$(find tiago_controller_configuration)/launch/default_controllers.launch">
        <arg name="arm" value="$(arg arm)"/>
    </include>
    <include file="$(find tiago_controller_configuration)/launch/force_torque_controller.launch"/>
    <!-- load gravity compensation controller with controllable wrist -->
    <include if="$(arg arm)" file="$(find tiago_controller_configuration)/launch/gravity_compensation_with_controller_wrist.launch"/>

    <group if="$(eval end_effector == 'pal-gripper')">
        <include file="$(find pal_gripper_controller_configuration)/launch/gripper_controller.launch"/>
    </group>

    <group if="$(eval end_effector == 'schunk-wsg')">
        <include file="$(find pal_wsg_gripper_controller_configuration)/launch/gripper_controller.launch"/>
        <include file="$(find pal_wsg_gripper_controller_configuration)/launch/gripper_fingertip_sensor_controller.launch">
          <arg name="finger" value="left"/>
        </include>
        <include file="$(find pal_wsg_gripper_controller_configuration)/launch/gripper_fingertip_sensor_controller.launch">
          <arg name="finger" value="right"/>
        </include>
    </group>

    <group if="$(eval end_effector == 'pal-hey5')">
        <include file="$(find tiago_controller_configuration)/launch/hey5_controller.launch"/>
    </group>

    <!-- Motion planning -->
    <include file="$(find tiago_moveit_config)/launch/move_group.launch">
        <arg name="robot" value="custom" />
    </include>
</launch>
